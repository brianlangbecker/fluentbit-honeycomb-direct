service:
  flush: 5
  daemon: off
  log_level: info
  parsers_file: parsers.conf
  http_server: on
  http_listen: 0.0.0.0
  http_port: 2020

pipeline:
  inputs:
    - name: forward
      listen: 0.0.0.0
      port: 24224
      buffer_chunk_size: 1M
      buffer_max_size: 6M
    - name: dummy
      dummy: 'INFO [2024-01-01 12:00:00] plaintext-service: Sample plaintext log message'
      tag: plaintext.sample

  filters:
    - name: modify
      match: "*"
      add: service plaintext-service
      add: level info
    - name: modify
      match: "*"
      rename: log message

  outputs:
    - name: stdout
      match: "*"
      format: json_lines
    - name: http
      match: "*"
      host: api.honeycomb.io
      port: 443
      uri: /1/events/fluent-bit-plaintext
      format: json_lines
      tls: on
      json_date_key: date
      json_date_format: iso8601
      header: X-Honeycomb-Team <your-api-key>
      header: X-Honeycomb-Dataset fluent-bit-plaintext
      header: Content-Type application/json
      retry_limit: 3
      log_response_payload: on